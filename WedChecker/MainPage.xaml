<Page
    x:Class="WedChecker.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WedChecker"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:UserControls="using:WedChecker.UserControls"
    xmlns:TaskUserControls="using:WedChecker.UserControls.Tasks"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    SizeChanged="Page_SizeChanged">

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="32" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>


		<StackPanel VerticalAlignment="Stretch" Background="{ThemeResource AppBarBackgroundThemeBrush}">
			
		</StackPanel>
		
		<SplitView x:Name="MySplitView" DisplayMode="CompactOverlay"  IsPaneOpen="False" 
               CompactPaneLength="50" OpenPaneLength="150" Grid.Row="1">

			<SplitView.Pane>
				<StackPanel BorderBrush="LightGray" BorderThickness="1, 0"  Background="{ThemeResource AppBarBackgroundThemeBrush}">
					<Button x:Name="HamburgerButton" FontFamily="Segoe MDL2 Assets" Content="&#xE700;" Foreground="{ThemeResource AppBarItemForegroundThemeBrush}"
                     Width="50" Height="50" Background="Transparent" Click="HamburgerButton_Click"/>

					<StackPanel Orientation="Horizontal" Tapped="homeMenu_Tapped">
						<Button x:Name="homeMenuButton" FontFamily="Segoe MDL2 Assets" Content="&#xE825;"
                    Width="50" Height="50" Background="Transparent" Foreground="{ThemeResource AppBarItemForegroundThemeBrush}"/>
						<TextBlock Text="Home" FontSize="18" VerticalAlignment="Center" 
								Foreground="{ThemeResource AppBarItemForegroundThemeBrush}"/>
					</StackPanel>

					<StackPanel Orientation="Horizontal" Tapped="planningsMenu_Tapped">
						<Button x:Name="planningsMenuButton" FontFamily="Segoe MDL2 Assets" Content="&#xE825;"
                    Width="50" Height="50" Background="Transparent" Foreground="{ThemeResource AppBarItemForegroundThemeBrush}"/>
						<TextBlock Text="Plannings" FontSize="18" VerticalAlignment="Center" 
                               Foreground="{ThemeResource AppBarItemForegroundThemeBrush}" />
					</StackPanel>

					<StackPanel Orientation="Horizontal" Tapped="purchasesMenu_Tapped">
						<Button x:Name="purchasesMenuButton" FontFamily="Segoe MDL2 Assets" Content="&#xE10F;"
                        Width="50" Height="50" Background="Transparent" Foreground="{ThemeResource AppBarItemForegroundThemeBrush}"/>
						<TextBlock Text="Purchases" FontSize="18" VerticalAlignment="Center" 
                               Foreground="{ThemeResource AppBarItemForegroundThemeBrush}" />
					</StackPanel>

					<StackPanel Orientation="Horizontal" Tapped="bookingsMenu_Tapped">
						<Button x:Name="bookingsMenuButton" FontFamily="Segoe MDL2 Assets" Content="&#xE1D6;"
                        Width="50" Height="50" Background="Transparent" Foreground="{ThemeResource AppBarItemForegroundThemeBrush}"/>
						<TextBlock Text="Bookings" FontSize="18" VerticalAlignment="Center" 
                               Foreground="{ThemeResource AppBarItemForegroundThemeBrush}" />
					</StackPanel>
				</StackPanel>
			</SplitView.Pane>

			<SplitView.Content>
				<Grid Name="LayoutRoot" Height="Auto" Background="White">
					<Grid.ChildrenTransitions>
						<TransitionCollection>
							<ReorderThemeTransition/>
						</TransitionCollection>
					</Grid.ChildrenTransitions>

					<StackPanel Name="spHome" Orientation="Vertical" VerticalAlignment="Center">
						<TextBlock Style="{StaticResource WedCheckerDisplayTextBlockStyle}" HorizontalAlignment="Center">Home</TextBlock>
						<ScrollViewer Name="svHome" VerticalScrollBarVisibility="Auto">
							<StackPanel Name="spMain" HorizontalAlignment="Center" VerticalAlignment="Center">
								<TextBlock x:Name="tbGreetUser" TextWrapping="Wrap" Text="Hello" HorizontalAlignment="Center" 
                                       Foreground="{ThemeResource SystemAccentColor}" FontSize="20"/>
								<UserControls:CountdownTimer Margin="0, 40, 0, 0" x:Name="tbCountdownTimer" />
							</StackPanel>
						</ScrollViewer>
					</StackPanel>

					<Grid Name="purchasesGrid" Visibility="Collapsed">
						<Grid.RowDefinitions>
							<RowDefinition Height="30" />
							<RowDefinition Height="*" />
						</Grid.RowDefinitions>
						<TextBlock Style="{StaticResource WedCheckerDisplayTextBlockStyle}" HorizontalAlignment="Center" Grid.Row="0">
							Purchases
						</TextBlock>
						<ScrollViewer Name="svPurchases" Grid.Row="1" VerticalScrollBarVisibility="Auto">
							<GridView Name="gvPurchases" SelectionMode="None" Padding="10">
							</GridView>
						</ScrollViewer>
					</Grid>

					<Grid Name="planingsGrid" Visibility="Collapsed">
						<Grid.RowDefinitions>
							<RowDefinition Height="30" />
							<RowDefinition Height="*" />
						</Grid.RowDefinitions>
						<TextBlock Style="{StaticResource WedCheckerDisplayTextBlockStyle}" HorizontalAlignment="Center" Grid.Row="0">
							Planings
						</TextBlock>
						<ScrollViewer Name="svPlanings" Grid.Row="1" VerticalScrollBarVisibility="Auto" >
							<GridView Name="gvPlanings" HorizontalAlignment="Stretch" SelectionMode="None" Padding="10">
							</GridView>
						</ScrollViewer>
					</Grid>

					<Grid Name="bookingsGrid" Visibility="Collapsed">
						<Grid.RowDefinitions>
							<RowDefinition Height="30" />
							<RowDefinition Height="*" />
						</Grid.RowDefinitions>
						<TextBlock Style="{StaticResource WedCheckerDisplayTextBlockStyle}" HorizontalAlignment="Center" Grid.Row="0">
							Bookings
						</TextBlock>
						<ScrollViewer Name="svBookings" Grid.Row="1" VerticalScrollBarVisibility="Auto">
							<GridView Name="gvBookings" SelectionMode="None" Padding="10" >
							</GridView>
						</ScrollViewer>
					</Grid>

					<ScrollViewer Name="svMain" Visibility="Collapsed" Background="WhiteSmoke" VerticalScrollMode="Enabled">
						<StackPanel Orientation="Vertical">
							<StackPanel.ChildrenTransitions>
								<TransitionCollection>
									<EntranceThemeTransition />
								</TransitionCollection>
							</StackPanel.ChildrenTransitions>

							<TextBlock Text="PLANNING"  Style="{StaticResource WedCheckerGridViewHeaderItemStyle}"/>
							<GridView x:Name="gvPlanningTasks" HorizontalAlignment="Center" VerticalAlignment="Stretch"
                          Margin="0, 0, 0, 10">
								<GridView.ItemContainerTransitions>
									<TransitionCollection>
										<EntranceThemeTransition />
									</TransitionCollection>
								</GridView.ItemContainerTransitions>

								<GridView.ItemContainerStyle>
									<Style TargetType="FrameworkElement">
										<Setter Property="Margin" Value="2"/>
									</Style>
								</GridView.ItemContainerStyle>
							</GridView>

							<TextBlock Text="PURCHASING" Style="{StaticResource WedCheckerGridViewHeaderItemStyle}"/>
							<GridView x:Name="gvPurchasingTasks" HorizontalAlignment="Center" VerticalAlignment="Stretch"
                          Margin="0, 0, 0, 10">
								<GridView.ItemContainerTransitions>
									<TransitionCollection>
										<EntranceThemeTransition />
									</TransitionCollection>
								</GridView.ItemContainerTransitions>

								<GridView.ItemContainerStyle>
									<Style TargetType="FrameworkElement">
										<Setter Property="Margin" Value="2"/>
									</Style>
								</GridView.ItemContainerStyle>
							</GridView>

							<TextBlock Text="BOOKING" Style="{StaticResource WedCheckerGridViewHeaderItemStyle}"/>
							<GridView x:Name="gvBookingTasks" HorizontalAlignment="Center" VerticalAlignment="Stretch"
                          Margin="0, 0, 0, 10" >
								<GridView.ItemContainerTransitions>
									<TransitionCollection>
										<EntranceThemeTransition />
									</TransitionCollection>
								</GridView.ItemContainerTransitions>

								<GridView.ItemContainerStyle>
									<Style TargetType="FrameworkElement">
										<Setter Property="Margin" Value="2"/>
									</Style>
								</GridView.ItemContainerStyle>
							</GridView>
						</StackPanel>
					</ScrollViewer>

					<ProgressRing Name="loadControlsProgressRing" IsActive="False"/>

					<Rectangle x:Name="rectBackgroundHide" Fill="#FF1D1D1D" HorizontalAlignment="Left" 
                           Height="117" VerticalAlignment="Top" Width="117" Visibility="Collapsed" Opacity="0.7" Tapped="rectBackgroundHide_Tapped">
					</Rectangle>

					<Popup Name="taskPopup" IsOpen="False" LayoutUpdated="taskPopup_LayoutUpdated">
						<Popup.Transitions>
							<TransitionCollection>
								<PopupThemeTransition />
							</TransitionCollection>
						</Popup.Transitions>
					</Popup>
				</Grid>

			</SplitView.Content>
		</SplitView>

	</Grid>

	<Page.BottomAppBar>
		<CommandBar x:Name="appBar" IsOpen="False" Visibility="Collapsed"
                    Background="WhiteSmoke" Foreground="{ThemeResource SystemAccentColor}" BorderThickness="1" BorderBrush="Black">
			<CommandBar.SecondaryCommands>
				<!--<AppBarButton Label="settings" Click="SettingsPageButton_Click"/>-->
				<AppBarButton Label="about" Click="AboutPageButton_Click"/>
				<AppBarButton Label="rate and review" Click="RateReviewButton_Click"/>
			</CommandBar.SecondaryCommands>
			<AppBarButton Icon="Add" IsCompact="False" Label="Add task" Click="AddTaskButton_Click" Foreground="{ThemeResource SystemAccentColor}" />
		</CommandBar>
	</Page.BottomAppBar>
</Page>
